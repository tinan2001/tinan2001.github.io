[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "About Me",
    "section": "",
    "text": "My name is Tina Ni\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.\n\n\nCode\n1 + 1\n\n\n[1] 2"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "GEO653.html",
    "href": "GEO653.html",
    "title": "LCLU Change in College Town: Amherst, New York",
    "section": "",
    "text": "Methods. This project looked at the land use land cover change in Amherst, New York. This project utilized ESRI ArcGIS Pro to perform a supervised remote sensing of both X meter sentinal and X meter orthophotos. Classifications were originally categorizes as X,X,X, and X.\nClassification files were then analyzed using R programming to show temperal land change and also to identify areas of physical land change hotspots.\n\nLoad necessary packages\n\n\nCode\nlibrary(terra)\nlibrary(sf)\nlibrary(ggplot2)\nlibrary(leaflet)\nlibrary(sp)\nlibrary(raster)\nlibrary(dbscan)\nlibrary(dplyr)\nlibrary(osmdata)\nlibrary(ggspatial)\nlibrary(prettymapr)\n\n\n\n\n\nImport classified land raster files and Amherst, NY town boundary\n\n\nCode\nr10 &lt;- rast(\"GEO653_documents/Amherst_2010.tif\") \nr15 &lt;- rast(\"GEO653_documents/Amherst_2015.tif\") \nr17 &lt;- rast(\"GEO653_documents/Amherst_2017.tif\") \nr20 &lt;- rast(\"GEO653_documents/Amherst_2020.tif\") \nr24 &lt;- rast(\"GEO653_documents/Amherst_2024.tif\") \n\namherst &lt;- vect(\"GEO653_documents/BB.shp\")\n\n\n\nReproject variables and clean up data\n\n\nCode\namherst &lt;- project(amherst, crs(r17))\namherst_sf &lt;- st_as_sf(amherst)\n\n#crop boundaries\nclip_raster &lt;- function(r, boundary) \n                                          {mask (crop (r, boundary[2, ]), boundary)}\n\nr10 &lt;- clip_raster(r10, amherst)\nr15 &lt;- clip_raster(r15, amherst)\nr17 &lt;- clip_raster(r17, amherst)\nr20 &lt;- clip_raster(r20, amherst)\nr24 &lt;- clip_raster(r24, amherst)\n\n\nrcl &lt;- matrix(c(\n  10, 1,\n  20, 2,\n  30, 3,\n  60, 4\n), ncol = 2, byrow = TRUE)\n\n\n\nr10_reclass &lt;- classify(r10, rcl)\nr15_reclass &lt;- classify(r15, rcl)\nr17_reclass &lt;- classify(r17, rcl)\nr20_reclass &lt;- classify(r20, rcl)\nr24_reclass &lt;- classify(r24, rcl)\n\nr10_aligned &lt;- r10_reclass\nr15_aligned &lt;- resample(r15_reclass, r10_reclass, method = \"near\")\nr17_aligned &lt;- resample(r17_reclass, r10_reclass, method = \"near\")\nr20_aligned &lt;- resample(r20_reclass, r10_reclass, method = \"near\")\nr24_aligned &lt;- resample(r24_reclass, r10_reclass, method = \"near\")\n\nr10_aligned[r10_aligned == 255] &lt;- NA\nr15_aligned[r15_aligned == 255] &lt;- NA\nr17_aligned[r17_aligned == 255] &lt;- NA\nr20_aligned[r20_aligned == 255] &lt;- NA\nr24_aligned[r24_aligned == 255] &lt;- NA\n\n\n\n\nPlot to show areas that changed from vegetation to developed urban between different years\n\n\nCode\npar(mfrow = c(1, 3), oma = c(0, 0, 4, 0)) \n\nveg_to_dev_10_15 &lt;- (r10_aligned %in% c(0,3)) & (r15_aligned %in% c(1,2))\nplot(veg_to_dev_10_15, main = \"2010 - 2015\")\n\nveg_to_dev_15_17 &lt;- (r15_aligned %in% c(0,3)) & (r17_aligned %in% c(1,2))\nplot(veg_to_dev_15_17, main = \"2015 - 2017\")\n\nveg_to_dev_17_20 &lt;- (r17_aligned %in% c(0,3)) & (r20_aligned %in% c(1,2))\nplot(veg_to_dev_17_20, main = \"2017 - 2020\")\n\nmtext(\"Areas of Vegetation to Developed\",\n      outer = TRUE, cex = 1.5, line = 2)\n\n\n\n\n\n\n\n\n\n\n\nCode\npar(mfrow = c(1, 1), oma = c(0, 0, 4, 0)) \nveg_to_dev_10_24 &lt;- (r10_aligned %in% c(0,3)) & (r24_aligned %in% c(1,2))\nplot(veg_to_dev_10_24, main = \"2010 - 2024\")\n\nveg_to_dev_17_24 &lt;- (r17_aligned %in% c(0,3)) & (r24_aligned %in% c(1,2))\n#plot(veg_to_dev_17_24, main = \"2017 - 2024\")\n\nveg_to_dev_20_24 &lt;- (r20_aligned %in% c(0,3)) & (r24_aligned %in% c(1,2))\n#plot(veg_to_dev_20_24, main = \"2020 - 2024\")\n\nmtext(\"Areas of Vegetation to Developed\",\n      outer = TRUE, cex = 1.5, line = 2)\n\n\n\n\n\n\n\n\n\n\n\nFind spatial clustering of land change (‘True’ cells)\n\n\nCode\nmoving_window &lt;- matrix(1, 5, 5)\n\n\n\n\n2017 - 2020 Hotspots\n\n\n2020 - 2024 Hotspots\n\n\n2010 - 2024 Hotspots\n\n\nCode\nveg_loss_hotspots_10_24 &lt;- focal(veg_to_dev_10_24, w = moving_window, fun = sum, na.policy = \"omit\")\nplot(veg_loss_hotspots_10_24, main = \"Vegetation to Development Hotspots 2010 - 2024\", col = terrain.colors(170))\n\n\n\n\n\n\n\n\n\nCode\nstrong_hotspots_10_24&lt;- veg_loss_hotspots_10_24 &gt; 15\nplot(strong_hotspots_10_24, main = \"Strong Vegetation Loss Hotspots 2010 - 2024\", col = c(\"white\", \"red\"))\n\n\n\n\n\n\n\n\n\nCode\nn_hotspot_pixels_10_24 &lt;- global(strong_hotspots_10_24, sum, na.rm = TRUE)\n\nhotspot_area_m2_10_24 &lt;- n_hotspot_pixels_10_24 * 900\n\nprint(paste(\"2010-2024 Total strong hotspot area (meters^2):\", round(hotspot_area_m2_10_24, 2)))\n\n\n[1] \"2010-2024 Total strong hotspot area (meters^2): 953100\"\n\n\n\n\n2017 - 2024 Hotspots\n\n\nCode\n#convert raster hotspots to polygons\nhotspot_polygons &lt;- as.polygons(strong_hotspots_10_24, dissolve = FALSE)\nhotspot_polygons &lt;- hotspot_polygons[hotspot_polygons[[1]] == 1, ]\n\n#find centroids and coords to polygons\ncentroids &lt;- centroids(hotspot_polygons)\ncoords &lt;- crds(centroids)\n\n#find clustering of centroids \neps_value &lt;- 50  # adjust as needed\nclust &lt;- dbscan(coords, eps = eps_value, minPts = 1)\ncentroids$cluster &lt;- clust$cluster\n\nattr_df &lt;- as.data.frame(centroids)\n\n#make grouped centroids into one single centroid by average (x,y)\ncentroids_df &lt;- cbind(attr_df, x = coords[,1], y = coords[,2])\n\ncluster_summary &lt;- centroids_df %&gt;%\n  group_by(cluster) %&gt;%\n  summarize(\n    mean_x = mean(x),\n    mean_y = mean(y),\n    count = n()\n  )\n\n\ncluster_centroids &lt;- vect(cluster_summary[, c(\"mean_x\", \"mean_y\")], \n                         geom = c(\"mean_x\", \"mean_y\"), crs = crs(centroids))\n#areas of hotspots\nplot(cluster_centroids)\n\n\n\n\n\n\n\n\n\n\n\nCode\n# --------------------------------------\n# 1. Convert to sf and reproject to WGS84\n# --------------------------------------\n# Assuming clustered_centroids is a SpatVector from terra\nclustered_centroids_sf &lt;- st_as_sf(cluster_centroids)\nclustered_centroids_wgs84 &lt;- st_transform(clustered_centroids_sf, 4326)\n\n# --------------------------------------\n# 2. Buffer each centroid (e.g., ~25m buffer in degrees)\n# --------------------------------------\nbuffer_radius &lt;- 0.00025  # ~25 meters in lat/lon degrees\ncentroid_buffers &lt;- st_buffer(clustered_centroids_wgs84, dist = buffer_radius)\n\n# --------------------------------------\n# 3. Query OSM for landuse features (one request for all)\n# --------------------------------------\n\n# Get bounding box of all buffers\nglobal_bbox &lt;- st_bbox(centroid_buffers)\n\n# Set OSM key to landuse\nosm_key &lt;- \"landuse\"\n\n# Build and send query\nquery &lt;- opq(bbox = global_bbox) %&gt;%\n  add_osm_feature(key = osm_key)\n\nosm_data &lt;- tryCatch(\n  osmdata_sf(query),\n  error = function(e) NULL\n)\n\n# --------------------------------------\n# 4. Intersect returned OSM features with centroid buffers\n# --------------------------------------\nif (!is.null(osm_data) && nrow(osm_data$osm_polygons) &gt; 0) {\n  osm_landuse &lt;- osm_data$osm_polygons\n  \n\n  overlaps &lt;- st_join(centroid_buffers, osm_landuse, join = st_intersects, left = FALSE)\n  \n  if (nrow(overlaps) &gt; 0) {\n    \n    cat(\"Matched landuse types:\\n\")\n    print(table(overlaps$landuse))\n\n   \n    plot(st_geometry(centroid_buffers), col = NA, border = \"gray\", main = \"Land Use Around Clustered Centroids\")\n    plot(st_geometry(osm_landuse), col = \"lightgreen\", border = \"green\", add = TRUE)\n    plot(st_geometry(clustered_centroids_wgs84), col = \"black\", pch = 19, add = TRUE)\n\n  } else {\n    cat(\"no landuse polygons overlapped with point buffer.\")\n  }\n} else {\n  cat(\"no landuse data returned from OSM.\")\n}\n\n\nMatched landuse types:\n\n  brownfield construction       meadow  residential \n           1            3            1           13 \n\n\n\n\n\n\n\n\n\n\n\nCode\n#buffer the centroids to find the various land use around the area\ncentroid_buffers$id &lt;- seq_len(nrow(centroid_buffers))\n\nlanduse_matches &lt;- st_join(centroid_buffers, osm_landuse, join = st_intersects, left = FALSE)\n\n#find the most dominant land use and assign to the centroid\ndominant_landuse &lt;- landuse_matches %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(id, landuse) %&gt;%\n  summarize(count = n(), .groups = \"drop\") %&gt;%\n  group_by(id) %&gt;%\n  slice_max(order_by = count, n = 1, with_ties = FALSE)\n\n\ncentroid_with_landuse &lt;- left_join(centroid_buffers, dominant_landuse, by = \"id\")\ncentroid_points &lt;- st_centroid(centroid_with_landuse)\n\n\nWarning: st_centroid assumes attributes are constant over geometries\n\n\nCode\ncentroid_points &lt;- centroid_points %&gt;%\n  mutate(\n    landuse = ifelse(is.na(landuse), \"not found\", landuse),\n    count = 1)\n\nggplot() +\n  annotation_map_tile(type = \"osm\") +\n  geom_sf(data = centroid_points, aes(color = landuse), size = 3, shape = 19) +\n  scale_color_viridis_d(option = \"plasma\", name = \"Dominant Landuse\") +\n  theme_minimal() +\n  labs(\n    title = \"Centroids Colored by Dominant Landuse\"\n  ) +\n  theme(legend.position = \"right\")\n\n\nZoom: 11\n\n\n\n\n\n\n\n\n\n\n\n2017 - 2024 Hotspots\n\n\n2010 - 2024 Hotspots\n\n\nCode\n#2010 - 2024 Hotspot \nstrong_hotspots_proj_10_24 &lt;- project(strong_hotspots_10_24, \"EPSG:3857\")\n\n#Convert True and False to 1 and 0\n\nstrong_hotspots_proj_10_24_numeric &lt;- as.numeric(strong_hotspots_proj_10_24)\nstrong_hotspots_proj_10_24_numeric_no_zeros &lt;- mask(strong_hotspots_proj_10_24_numeric, strong_hotspots_proj_10_24_numeric, maskvalues = c(0, NA))\n\n\n#Color the hotspots red and make the non hotspot areas transparent\n\npal_hotspots &lt;- colorNumeric(\n  palette = c(\"transparent\", \"red\"),\n  domain = c(0, 1)\n)\n\n#Plot on a leafet map with osm to identify land use of hotspot areas\nleaflet() %&gt;%\n  addProviderTiles(providers$OpenStreetMap) %&gt;%\n  addRasterImage(\n    strong_hotspots_proj_10_24_numeric_no_zeros,\n    colors = pal_hotspots,\n    opacity = 0.50,  # Show hotspots with full opacity\n    project = FALSE\n  ) %&gt;%\n  addLegend(\n    position = \"bottomright\",\n    pal = pal_hotspots,\n    values = c(0, 1),\n    title = \"Vegetation Loss Hotspots (2010-2024)\",\n    labels = c(\"No Hotspot\", \"Hotspot\")\n  )"
  },
  {
    "objectID": "GEO559.html",
    "href": "GEO559.html",
    "title": "GEO559",
    "section": "",
    "text": "This is the GIS Environmental Modeling Project"
  }
]